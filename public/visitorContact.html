<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>IskolarLink — Contact</title>

  <link rel="stylesheet" href="/assets/css/style.css">

  <style>
    :root{
      --gold:#D4A017;
      --maroon:#800000;
      --maroon-dark:#5a0000;
      --maxw:1200px;
      --muted:#666;
      --card: rgba(255,255,255,0.98);
      --glass: rgba(255,255,255,0.92);
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      min-height:100vh;
      display:flex;
      flex-direction:column;
      background-image:url('/assets/iskolarbg.png');
      background-size:cover;
      background-position:center;
      font-family:"Segoe UI", Roboto, Arial, Helvetica, sans-serif;
      color:#222;
    }

    /* header / layout (same as visitorHome) */
    .site-header { background: var(--maroon); border-bottom:2px solid var(--maroon-dark); }
    .header-wrap{ max-width:var(--maxw); margin:0 auto; padding:10px 16px; display:flex; align-items:center; gap:12px; }
    .header-logo{ width:56px; height:56px; background-repeat:no-repeat; background-position:center; background-size:contain; display:block; }
    .logo-city{ background-image:url('/assets/citylogo.png'); }
    .logo-isko{ background-image:url('/assets/iskologo.png'); }
    .brand-block{ color:#fff; display:flex; flex-direction:column; gap:2px; }
    .brand-title{ font-weight:800; font-size:18px; letter-spacing:0.02em; }
    .brand-sub{ font-size:12px; opacity:0.95; }

    .header-right { margin-left:auto; display:flex; align-items:center; gap:12px; }
    .header-contact { color:#fff; text-decoration:none; font-weight:600; font-size:13px; opacity:0.95; }
    .btn-ghost { background:transparent; border:1px solid rgba(255,255,255,0.18); color:#fff; padding:8px 12px; border-radius:8px; text-decoration:none; font-weight:700; }
    .btn-solid { background:var(--gold); color:#000; padding:8px 12px; border-radius:8px; text-decoration:none; font-weight:800; border:1px solid rgba(0,0,0,0.08); }

    main.page-wrap{ max-width:var(--maxw); margin:26px auto; padding:18px; width:calc(100% - 36px); flex:1; }

    .grid {
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:18px;
      align-items:start;
    }
    .card{ background:var(--card); padding:16px; border-radius:12px; box-shadow: 0 10px 30px rgba(0,0,0,0.06); border:1px solid rgba(0,0,0,0.04); }

    .admin-photo{
      width:140px; height:140px; object-fit:cover; border-radius:12px; box-shadow:0 6px 18px rgba(0,0,0,0.06);
    }

    .contact-list{ display:flex; flex-direction:column; gap:10px; margin-top:12px; }
    .contact-item{ background:#fff; padding:10px; border-radius:8px; border:1px solid rgba(0,0,0,0.04); box-shadow:0 6px 18px rgba(0,0,0,0.03); }

    form input, form textarea, .input {
      width:100%; padding:10px 12px; border-radius:8px; border:1px solid #ddd; background:var(--glass); font-size:14px;
    }
    form .row{ display:grid; grid-template-columns:1fr 1fr; gap:8px; }
    form button{ padding:10px 14px; background:var(--maroon); color:#fff; border:none; border-radius:8px; cursor:pointer; font-weight:800; }

    .small-note{ color:var(--muted); font-size:13px; }

    /* ========= FOOTER (GLOBAL FOOTER) ========= */
    .site-footer{
      background:#fff;
      border-top:1px solid #000;
      outline:1px solid #000;
      outline-offset:-1px;
      /* ensure footer hugs bottom when page short */
      margin-top: auto;
    }
    .footer-wrap{
      max-width:1200px;
      margin:0 auto;
      padding:14px 16px;
      display:flex;
      justify-content:center;
      align-items:center;
    }
    .footer-wrap img{
      max-height:48px;
      width:auto;
      display:block;
    }

    /* slide nav (copied pattern) */
    .nav-root { position:relative; }
    .nav-root input[type="checkbox"] { display:none; visibility:hidden; }
    .toggle {
      position: absolute;
      height: 40px;
      width: 40px;
      top: 12px;
      left: 12px;
      z-index: 2000;
      cursor: pointer;
      border-radius: 6px;
      background-color: rgba(255,255,255,0.05);
      display:flex; align-items:center; justify-content:center;
      border:1px solid rgba(255,255,255,0.04);
    }
    .slide {
      height: 100%;
      width: 260px;
      position: fixed;
      background-color: #fff;
      transition: 0.28s ease;
      transform: translateX(-280px);
      z-index: 1500;
      display: flex;
      flex-direction: column;
      box-shadow: 0 8px 24px rgba(0,0,0,0.15);
    }
    input[type="checkbox"]:checked ~ .slide { transform: translateX(0); }
    .slide .image { text-align:center; padding:18px 0 8px; }
    .slide .image img { max-width:120px; height:auto; display:block; margin:0 auto; }
    .slide ul { list-style:none; padding:6px 8px; margin:0; overflow:auto; flex:1; }
    .slide ul li { margin:6px 0; }
    .slide ul li a { display:flex; align-items:center; gap:10px; padding:10px 12px; border-radius:8px; color:#222; text-decoration:none; font-weight:600; }
    .slide ul li a:hover { background:var(--maroon); color:#fff; }
    .profile-box { padding:12px; border-top:1px solid #eee; display:flex; align-items:center; gap:10px; }
    .profile-box img { width:48px; height:48px; border-radius:50%; object-fit:cover; }
    .overlay { display:none; position:fixed; inset:0; background:rgba(0,0,0,0.35); z-index:1400; transition:opacity .28s ease; opacity:0; pointer-events:none; }
    input[type="checkbox"]:checked ~ .overlay { display:block; opacity:1; pointer-events:auto; }

    @media (max-width:920px){
      .grid{ grid-template-columns: 1fr; }
      .toggle{ left:10px; top:10px; }
      .slide{ width:100%; transform:translateX(-100%); }
      input[type="checkbox"]:checked ~ .slide { transform: translateX(0); }
      form .row{ grid-template-columns:1fr; }
    }
  </style>
</head>
<body>
  <!-- nav-root checkbox (consistent with other pages) -->
  <div class="nav-root">
    <input id="navToggle" type="checkbox" aria-hidden="true">
    <label for="navToggle" class="toggle" aria-label="Open menu" title="Menu">
      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="1.6" stroke-linecap="round">
        <path d="M3 7h18M3 12h18M3 17h18"></path>
      </svg>
    </label>

    <nav class="slide" aria-hidden="true" aria-label="Site navigation">
      <div class="image">
        <img src="/assets/iskolarlink.png" alt="IskolarLink">
      </div>

      <ul>
        <!-- Non-SPA links: point to separate pages -->
        <li><a href="/public/visitorHome.html">Home</a></li>
        <li><a href="/public/visitorAbout.html">About Us</a></li>
        <li><a href="/public/visitorBoard.html">Meet the Scholarship Board</a></li>
        <li><a href="/public/visitorRequirements.html">Application Requirements</a></li>
        <li><a href="/public/visitorAnnounce.html">Announcements</a></li>
        <li><a href="/public/visitorEvents.html">Events</a></li>
        <li><a href="/public/visitorContact.html">Contact Us</a></li>
      </ul>
    </nav>

    <label for="navToggle" class="overlay" aria-hidden="true"></label>
  </div>

  <!-- HEADER -->
  <header class="site-header" role="banner" style="position:relative; z-index:1200">
    <div class="header-wrap">
      <a class="header-logo logo-city" href="https://koronadal.gov.ph" target="_blank" aria-label="City of Koronadal"></a>
      <div class="brand-block" aria-hidden="true">
        <div class="brand-title">CITY OF KORONADAL</div>
        <div class="brand-sub">Iskolar ng Koronadal - Kabugwason Paglaum Program</div>
      </div>
      <a class="header-logo logo-isko" href="https://www.facebook.com/profile.php?id=100093335296692" target="_blank" aria-label="Isko Facebook"></a>

      <div class="header-right" role="navigation" aria-label="Header actions">
        <a class="header-contact" href="tel:+63832286095">(083) 228 - 6095</a>
        <a class="header-contact" href="mailto:info.koronadalcity@gmail.com">info.koronadalcity@gmail.com</a>
        <a href="/login.html" class="btn-ghost" title="Login">Login</a>
        <a href="/signup.html" class="btn-solid" title="Sign up">Sign up</a>
      </div>
    </div>
  </header>

  <!-- MAIN -->
  <main class="page-wrap" role="main">
    <div class="card">
      <div style="display:flex; justify-content:space-between; align-items:center; gap:12px; flex-wrap:wrap;">
        <h1 style="margin:0;color:var(--maroon)">Contact the Moderator</h1>
        <div class="small-note">Only one moderator is currently listed as the public contact.</div>
      </div>

      <div class="grid" style="margin-top:14px;">
        <!-- left: moderator card + details -->
        <section class="card" style="display:flex; gap:12px; align-items:flex-start;">
          <img src="/assets/default-avatar.png" alt="Moderator Photo" class="admin-photo">
          <div style="flex:1">
            <h2 style="margin:0 0 6px 0;color:var(--maroon)">Maria Santos</h2>
            <div class="small-note">Public Moderator / IskolarLink Administrator</div>

            <div class="contact-list">
              <div class="contact-item"><strong>Phone:</strong> <a href="tel:+639171010000">+63 917 101 0000</a></div>
              <div class="contact-item"><strong>Email:</strong> <a href="mailto:admin@iskolarlink.edu.ph">admin@iskolarlink.edu.ph</a></div>
              <div class="contact-item"><strong>Office:</strong> 4th Floor SCJ Building, Jose Abad Santos, Zone III, Koronadal City</div>
              <div class="contact-item"><strong>Office Hours:</strong> Mon–Fri, 8:30 AM — 5:00 PM</div>
            </div>

            <div style="margin-top:12px">
              <a href="/login.html" class="btn-solid" style="text-decoration:none;display:inline-block">Moderator Login</a>
              <a href="/public/visitorHome.html" style="margin-left:12px;color:var(--maroon);font-weight:700;text-decoration:none;">← Back to home</a>
            </div>
          </div>
        </section>

        <!-- right: contact form -->
        <aside class="card">
          <h3 style="margin-top:0;color:var(--maroon)">Send a message</h3>
          <p class="small-note">Fill the form below to send a message. This currently uses a dummy client-side handler — enable `/api/contact` on the server to receive messages.</p>

          <form id="contactForm" style="margin-top:8px">
            <div class="row">
              <input name="name" placeholder="Your name" required class="input" />
              <input name="email" type="email" placeholder="Your email" required class="input" />
            </div>

            <input name="subject" placeholder="Subject" required style="margin-top:8px" class="input" />
            <textarea name="message" placeholder="Your message" rows="6" required style="margin-top:8px" class="input"></textarea>

            <div style="margin-top:10px; display:flex; gap:8px; align-items:center;">
              <button type="submit">Send Message</button>
              <div id="contactStatus" class="small-note" aria-live="polite"></div>
            </div>
          </form>

          <hr style="margin:12px 0"/>

          <div>
            <strong>Alternative:</strong>
            <p class="small-note">You can email the moderator directly at <a href="mailto:admin@iskolarlink.edu.ph">admin@iskolarlink.edu.ph</a> or call +63 917 101 0000.</p>
          </div>
        </aside>
      </div>

      <!-- directions / map placeholder -->
      <section style="margin-top:14px" class="card">
        <h3 style="margin-top:0;color:var(--maroon)">How to get there</h3>
        <p class="small-note">The admin office is on the 4th floor of the SCJ Building on Jose Abad Santos Ave — near Zone III market. For a map, replace the placeholder below with an embedded map (Google Maps iframe) when you decide to publish a live site.</p>
        <div style="background:#fff;border-radius:8px;padding:12px;border:1px dashed #eee;color:var(--muted);text-align:center">
          Map placeholder — embed iframe here (e.g. Google Maps).
        </div>
      </section>

      <div style="margin-top:12px" class="small-note">
        <strong>Project download (developer helper):</strong> If you want the current project ZIP I used earlier, you can download it here:
        <br/>
        <a href="/mnt/data/Admin-IskolarLink.zip" download>Download Admin-IskolarLink.zip</a>
        <!-- note: the above local path is from the conversation history; transform it to a served URL on your environment as needed -->
      </div>
    </div>
  </main>

  <!-- GLOBAL FOOTER -->
  <footer class="site-footer">
    <div class="footer-wrap">
      <img src="/assets/footer.png" alt="Footer Graphic">
    </div>
  </footer>

  <script>
    (function(){
      // contact form (dummy) - sends to /api/contact if available, otherwise shows queued message
      const form = document.getElementById('contactForm');
      const status = document.getElementById('contactStatus');

      form.addEventListener('submit', async (e) => {
        e.preventDefault();
        status.textContent = 'Sending…';
        const data = Object.fromEntries(new FormData(form).entries());

        try {
          // If you implement /api/contact on the server, the fetch below will post to it.
          const res = await fetch('/api/contact', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(data)
          });

          if (res.ok) {
            status.textContent = 'Message sent. The moderator will respond via email.';
            form.reset();
          } else {
            // fallback: server not implemented
            status.textContent = 'Message queued (demo). Server endpoint /api/contact not available.';
            form.reset();
          }
        } catch (err) {
          console.warn('contact submit failed', err);
          status.textContent = 'Message queued (demo). Server endpoint /api/contact not available.';
          form.reset();
        }
      });
    })();
  </script>
</body>
</html>
